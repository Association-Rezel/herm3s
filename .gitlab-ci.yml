stages:
  - linting
  - build-tests
  - unit-tests

#test

#run unit-tests which launch command docker compose up --build with the docker compose in my project
unit-tests:
  stage: unit-tests
  image: docker:24.0.7
  services:
    - docker:24.0.7-dind
  
  script:
    - ls
    - docker compose -f docker-compose.unit_tests.yaml up --build --exit-code-from unit_tests  #if exit of one of the container is 1 stop all the container and fail the pipeline


  

# linting:
#   stage: linting
#   image: python
#   script:
#     - pip install black
#     - black --check .